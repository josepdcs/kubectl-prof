apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: prof
spec:
  homepage: https://github.com/josepdcs/kubectl-prof
  shortDescription: Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. from pods (Containerd, Cri-o are supported). This is a fork of flame plugin.
  version: "v1.9.0"
  description: |
    Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. without restarting pods and with low overhead. Containerd and Cri-o are supported. 
    This is an open source fork of https://github.com/yahoo/kubectl-flame with several new features and bug fixes.
  caveats: |
    Currently supported languages: Go, Java (any JVM based language), Python, Ruby, NodeJS, Clang and Clang++.
  platforms:
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.9.0/kubectl-prof_1.9.0_darwin_amd64.tar.gz
      sha256: a5b24a43c462cedf6ff0d653f663458485fb15236c877979210138b378ac82f1
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.9.0/kubectl-prof_1.9.0_darwin_arm64.tar.gz
      sha256: df90bc22cb9202f0b76e6111620944dd615633af98fbad6eccd741b241dacfb1
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.9.0/kubectl-prof_1.9.0_linux_amd64.tar.gz
      sha256: 0e06b2061b72013add0e8e6374e69c9802444a4d71fe0410bdb942a4df78da8b
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.9.0/kubectl-prof_1.9.0_linux_arm64.tar.gz
      sha256: 6e08f80633950daf95f01381f2f0d10c63826da3431903ce5a68a0113c862bc2
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.9.0/kubectl-prof_1.9.0_windows_amd64.zip
      sha256: 16a23790f02eaa12286ac542fc5f231f5e2e03154c66188df69934fbfb307baf
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.9.0/kubectl-prof_1.9.0_windows_arm64.zip
      sha256: 238917a25b8f50dc35a6e0b12bf5b97a98851e9175d2b31f5afbf3b301c70c90
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: arm64

