apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: prof
spec:
  homepage: https://github.com/josepdcs/kubectl-prof
  shortDescription: Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. from pods (Containerd, Cri-o are supported). This is a fork of flame plugin.
  version: "v1.2.1"
  description: |
    Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. without restarting pods and with low overhead. Containerd and Cri-o are supported. 
    This is an open source fork of https://github.com/yahoo/kubectl-flame with several new features and bug fixes.
  caveats: |
    Currently supported languages: Go, Java (any JVM based language), Python, Ruby, NodeJS, Clang and Clang++.
  platforms:
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.1/kubectl-prof_1.2.1_darwin_amd64.tar.gz
      sha256: 012ccf82c5af50a9205aee8cd4552a3d8155f2412935306f8a1bfbdf6abab827
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.1/kubectl-prof_1.2.1_darwin_arm64.tar.gz
      sha256: 791055a4303fdcf354490ef61a3ed7d5f5f753780c220807daa7d81fd252a4e0
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.1/kubectl-prof_1.2.1_linux_amd64.tar.gz
      sha256: 17fa37d41001fb6e154289361ed757b205d2d55faf19cecbc799c9d926f8bbd9
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.1/kubectl-prof_1.2.1_linux_arm64.tar.gz
      sha256: d9ea492c112cfdd84df1b8e001f54587fdb6686bf50cff6660da780fe2cbc3f2
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.1/kubectl-prof_1.2.1_windows_amd64.zip
      sha256: e6a02cd91659d3869030f4bcb8409e5c9f16a9ca7897146d4ae0436902b6042a
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.2.1/kubectl-prof_1.2.1_windows_arm64.zip
      sha256: a5b66e795060732fb192b0f399e0492cb7497b099e619ea2326879591e7615e2
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: arm64

